#1.  문서 개요

## 1.1.  ***목적*** 

본 문서는 MicroBOSH/BOSH에 대한 설치 및 운영 관리를 위한 도구인 BOSH CLI에 대해 기본 사용법 및 사용 예시를 통해 BOSH를 이해하는데 목적이 있다.


## 1.2.  ***범위*** 

본 문서에서는 BOSH CLI 사용법에 대해서 작성하였습니다.


## 1.3.  ***참고자료*** 

본 문서는 Cloud Foundry의 BOSH Document를 참고로 작성하였습니다.

BOSH Document: [http://bosh.io](http://bosh.io)


#2.  BOSH CLI 기본 사용법

CLI는 BOSH 배포와 Release를 관리하기 위해 도움을 주는 커맨드 라인 명령어로 아래와 같이 2가지 형태로 구분된다.


-   bosh: BOSH (Multi-VM BOSH)를 관리하기 위한 CLI

-   bosh micro: MicroBOSH (Single-VM BOSH)를 관리하기 위한 CLI


###1. 기본 문법

	$ bosh [<options>] <command> [<args>]
	$ bosh micro [<options>] <command> [<args>]


bosh 또는 bosh micro 명령어에 대괄호로 묶인 인자인 <options>과 <args>는 명령어에 따라 선택적으로 사용하며, <command> 인자는 필수 인자이다.


###2. Options

	---------- ------------------------- --------------------------------
	번호	      옵션                      설명
	---------- ------------------------- --------------------------------
	1          -c, --config              BOSH configuration file 지정
	2          --parallel MAX            병렬 다운로드 최대 개수 설정
	3          --[no-]color              Toggle colorized output
	4          -v, --verbose             Show additional output
	5          -q, --quiet               suppress all output
	6          -n, --non-interactive     Don’t ask for user input
	7          -N, --no-track            Return task ID and don’t track
	8          -P, --poll INTERVAL       Director task polling interval
	9          -t, --target URL          타겟 디렉터 지정
	10         -u, --user USER           BOSH 사용자 아이디
	11         -p, --password PASSWORD   BOSH 사용자 비밀번호
	12         -d, --deployment FILE     BOSH 배포파일 지정
	13         -h, --help                Help 메시지 보기
	---------- ------------------------- --------------------------------

BOSH 운영 및 관리하기 위한 도구인 BOSH CLI 아래와 같이 많은 명령어를 제공하고 있으며, 유형을 분류하면 다음과 같다.

	------------------------- --------------------------------
	구분                       명령어
	------------------------- --------------------------------
	MicroBOSH                 micro deployment
	                          micro deployments
	                          micro deploy
	                          micro status
	                          micro agent
	                          micro apply
	                          micro delete
	------------------------- --------------------------------
	Deployment                deploy
	                          deployment
	                          deployments
	                          delete deployment
	                          download manifest
	                          edit deployment
	                          diff
	                          validate jobs
	------------------------- --------------------------------
	Release                   init release
	                          reset releases
	                          verify release
	                          create release
	                          delete release
	                          upload release
	                          releases
	                          generate job
	                          generate package
	------------------------- --------------------------------
	Stemcell                  public stemcells
	                          download public stemcell
	                          verify stemcell
	                          upload stemcell
	                          delete stemcell
	                          stemcells
	------------------------- --------------------------------
	Job                       start
	                          stop
	                          restart
	                          recreate
	------------------------- --------------------------------
	User                      create user
	                          delete user
	                          login
	                          logout
	------------------------- --------------------------------
	Task                      task
	                          tasks
	                          tasks recent
	                          cancel task
	------------------------- --------------------------------
	Property                  set property
	                          get property
	                          unset property
	                          properties
	------------------------- --------------------------------
	Log                       logs
	------------------------- --------------------------------
	Maintenance               cleanup
	                          cloudcheck
	------------------------- --------------------------------	
	Remote Access             ssh
	                          scp
	------------------------- --------------------------------
	Blob                      upload blobs
	                          add blob
	                          sync blobs
	                          blobs
	------------------------- --------------------------------
	Snapshot                  task snapshot
	                          delete snapshot
	                          delete snapshots
	                          snpashots
	------------------------- --------------------------------
	Misc                      status
	                          target
	                          targets
	                          vms
	                          locks
	                          alias
	                          aliases
	                          export compiled_packages
	                          vm resurrection
	------------------------- --------------------------------


#3.  BOSH CLI - micro


## 3.1.  ***micro deployment*** 

**- 기본 문법**

	$ bosh micro deployment [<manifest-filename>]


**설명**

bosh micro에 설정된 배포 파일을 확인하거나 또는 설정하기 위한 명령어


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	manifest-filename     X         MicroBOSH 배포 Manifest파일
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	# 파라미터 지정한 경우
	$ bosh micro deployment ./bosh-micro.yml  

	# 파라미터 지정하지 않을 경우
	$ bosh micro deployment


## 3.2.  ***micro deployments*** 

**- 기본 문법**

	$ bosh micro deployments


**설명**

bosh micro에서 배포한 목록 출력

**- 파라미터**

-   없음


**사용 예시**

	$ bosh micro deployments

## 3.3.  ***micro deploy*** 

**- 기본 문법**

	$ bosh micro deploy [<stemcell>] [--update] [--update-if-exists]


**설명**

MicroBOSH Instance 배포

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	stemcell              O         Stemcell 파일
	--update              X         동일한 인스턴스가 존재하는 경우 업데이트
	--update-if-exists    X         동일한 인스턴스가 존재하면 업데이트하고 없는 경우 인스턴스를 새로 배포                           
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**
  
	$ bosh micro deploy ~/workspace/stemcells/bosh-stemcell-3016-openstack-kvm-ubuntu-trusty-go_agent.tgz


## 3.4.  ***micro status*** 

**- 기본 문법**

	$ bosh micro status


**설명**

MicroBOSH 등록 정보 출력


**- 파라미터**

-   없음


**사용 예시**

	$ bosh micro status


## 3.5.  ***micro agent***


**기본 문법**

	$ bosh micro agent <args>


**설명**

MicroBOSH Agent에게 요청 Message 전달


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	args                  O         메시지 유형         
	                                - start: MicroBOSH 에 구동중인 모든 Job 시작
	                                - stop: MicroBOSH 에 구동중인 모든 Job 종료
	                                - ping: Agent 응답 여부 확인
	                                - drain TYPE SPEC
		                              TYPE: ‘shutdown’, ‘update’, ‘status’ 중 하나
	                                  SPEC: 사용할 drain spec
	                                - state [full]: 시스템의 상태 출력
	                                - list_disk: MicroBOSH에 마운트된 디스크 CID목록 출력
	                                - migrate_disk OLD NEW: 디스크 Migrate
	                                - mount_disk CID: 마운트 디스크
	                                - unmount_disk CID: 언마운트 디스크
	--------------------- --------- ---------------------------------------------------------------


**사용 예시**

	$ bosh micro agent ping

	$ bosh micro agent list_disk

	$ bosh micro agent drain state


## 3.6.  ***micro apply***

**기본 문법**

	$ bosh micro apply <spec>


**설명**

MicroBOSH Instance에 지정된 Spec정보 적용

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	spec                  O         MicroBOSH Instance에 적용할 spec 파일         
	--------------------- --------- ---------------------------------------------------------------


## 3.7.  ***micro delete***

**- 기본 문법**

	$ bosh micro delete


**설명**

MicroBOSH Instance 삭제


**- 파라미터**

-   없음


**사용 예시**

	$ bosh micro delete


# 4.  BOSH CLI - Deployment

## 4.1.  ***deployment***

**- 기본 문법**

	$ bosh deployment [<manifest-filename>]


**설명**

bosh에 설정된 배포 파일을 확인하거나 또는 설정하기 위한 명령어


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	manifest-filename     X         BOSH 배포 Manifest파일         
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	# 파라미터 지정한 경우
	$ bosh deployment ./bosh-openstack.yml

	# 파라미터 지정하지 않을 경우
	$ bosh deployment


## 4.2.  ***deployments***

**- 기본 문법**

	$ bosh deployments


**설명**

bosh에서 배포한 목록 출력


**- 파라미터**

-   없음


**사용 예시**

	$ bosh deployments


## 4.3.  ***edit deployment***

**- 기본 문법**

	$ bosh edit deployment


**설명**

현재 설정된 배포 Manifest 파일 편집기를 이용해서 수정


**- 파라미터**

-   없음


**사용 예시**

	# 현재 배포 manifest 확인
	$ bosh deployment  

	# 현재 배포 manifest 수정
	$ bosh edit deployment


## 4.  ***deploy***

**- 기본 문법**

	$ bosh deploy [--recreate] [--redact-diff]


**설명**

배포 수행


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	--recreate            X         모든 VM 재생성
	--redact-diff         X         Manifest내 변경된 정보는 무시                  
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh deploy


## 4.5.  ***download manifest***

**- 기본 문법**

	$ bosh download manifest <deployment_name> [<save_as>]


**설명**

BOSH Manifest 파일 다운로드


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	deployment_name       O         다운로드할 배포명 설정
	save_as               X         저장할 파일명 설정                  
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh download manifest bosh-openstack ~/test.yml


## 4.6.  ***diff***

**- 기본 문법**

	$ bosh diff <template>


**설명**

현재 Deployment 설정된 정보와 지정된 Manifest파일과의 비교하여 차이 출력

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	template              O         비교 대상 Manifst 파일              
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh diff ./bosh-openstack-test.yml


## 4.7.  ***validate jobs***

**- 기본 문법**

	$ bosh validate jobs


**설명**

현재 배포 Manifest를 사용하여 Release에서 모든 Job의 유효 여부 확인

**- 파라미터**

-   없음


#5.  BOSH CLI - Release

## 5.1.  ***create release***

**- 기본 문법**

	$ bosh create release [--force] [--final] [--with-tarball] [--dry-run] [--name NAME] [--version VERSION]


**설명**

Release 생성


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	--force               X         bypass git dirty state check
	--final               X         create final release
	--with-tarball        X         create release tarball
	--dry-run             X         stop before writing release manifest
	--name NAME           X         specify a custom release name
	--version VERSION     X         specify a custom version number                  
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh create release --force


## 5.2.  ***delete release***

**- 기본 문법**

	$ bosh delete release <name> [<version>] [--force]


**설명**

등록된 Release 삭제

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	name                  O         삭제할 Release 이름
	version               X         삭제할 Release 버전
	--force               X         Release 삭제하는 동안 에러 무시           
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh delete release bosh 198


## 5.3.  ***verify release*** 

**- 기본 문법**

	$ bosh verify release <tarball_path>


**설명**

Release 유효성 체크

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	tarball_path          O         Release 파일          
	--------------------- --------- ---------------------------------------------------------------


**사용 예시**

	$ bosh verify release bosh-198.tgz


## 5.4.  ***upload release***

**- 기본 문법**

	$ bosh upload release [<release_file>] [--rebase] [--skip-if-exists]


**설명**

Release 업로드

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	release_file          O         업로드할 Release 파일
	--rebase              X         최신 버전 Release
	--skip-if-exists      X         Release가 존재하는 경우 무시
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh upload release ~/workspace/bosh/release/releases/bosh-187.yml


## 5.5.  ***releases***

**- 기본 문법**

	$ bosh releases


**설명**

Release 목록 출력


**- 파라미터**

-   없음


**사용 예시**

	$ bosh releases


## 6.  ***reset release***

**- 기본 문법**

	$ bosh reset release


**설명**

Reset Dev release

**- 파라미터**

-   없음


**사용 예시**

	$ bosh reset release


## 5.7.  ***init release*** 

**- 기본 문법**

	$ bosh init release [<base>] [--git]


**설명**

Release작성하기 위한 템플릿 디렉토리 및 파일 생성

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	base                  X         Release 작성을 위한 기준 디렉토리 지정(지정하지 않을 경우 현재 디렉토리에 생성됨)
	--git                 X         git repository 초기화
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh init release ~/workspace/test3 --git

	# Release 작성을 위한 템플릿 디렉토리 생성
	$ ls -al test3


## 5.8.  ***generate job***

**- 기본 문법**

	$ bosh generate job <name>


**설명**

Job Template 생성

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	name                  O         생성할 Job Template 이름
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh generate job sample-job


## 5.9.  ***generate package***

**- 기본 문법**

	$ bosh generate package <name>


**설명**

Package 템플릿 생성

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	name                  O         생성할 패키지 이름
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh generate package ruby_1.9.3


#6.  BOSH CLI - Stemcell

## 6.1.  ***upload stemcell***

**- 기본 문법**

	$ bosh upload stemcell <stemcell_location> [--skip-if-exists]


**설명**

BOSH stemcell 업로드

**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	stemcell_location     O         BOSH Stemcell 파일 경로
	--skip-if-exists      X         존재하는 BOSH Stemcell이면 Skip         
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh upload stemcell ~/workspace/stemcells/bosh-stemcell-3016-openstack-kvm-ubuntu-trusty-go_agent.tgz


## 6.2.  ***verify stemcell***

**- 기본 문법**

	$ bosh verify stemcell <tarball_path>


**설명**

BOSH stemcell 유효성 검사


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	tarball_path          O         BOSH Stemcell 파일 경로         
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh verify stemcell ~/workspace/stemcells/bosh-stemcell-3016-openstack-kvm-ubuntu-trusty-go_agent.tgz


## 6.3.  ***stemcells***

**- 기본 문법**

	$ bosh stemcells


**설명**

Director에 업로드한 Stemcell 목록 출력

**- 파라미터**

-   없음


**사용 예시**

	$ bosh stemcells


## 6.4.  ***delete stemcell***

**- 기본 문법**

	$ bosh delete stemcell <name> <version> [--force]


**설명**

BOSH stemcell 삭제


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	name                  O         Stemcell 이름
	version               O         Stemcell 버전
	--force               X         Stemcell 삭제하는 동안 에러 무시         
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh delete stemcell bosh-openstack-kvm-ubuntu-trusty-go_agent 3012


## 6.5.  ***public stemcells***

**- 기본 문법**

	$ bosh public stemcells [--full] [--all]


**설명**

public stemcell 목록 출력


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	--full                O         다운로드 URL 출력
	--all                 O         모든 Stemcell 출력         
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh public stemcells


## 6.6.  ***download public stemcell***

**- 기본 문법**

	$ bosh download public stemcell <stemcell_filename>


**설명**

public stemcell 다운로드


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	stemcell_filename     O         다운로드 받을 Stemcell 파일명
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh download public stemcell bosh-stemcell-3016-openstack-kvm-ubuntu-trusty-go_agent.tgz


#7.  BOSH CLI - Job

## 7.1.  ***start***

**- 기본 문법**

	$ bosh start <job> [<index>] [--force]


**설명**

Job/Instance 시작


**- 파라미터**

**파라미터 명**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	job                   O         Job 이름
	index                 X         Job 번호
	--force               X         수행중 발생하는 에러 무시 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh start redis --force


## 7.2.  ***stop*** 

**- 기본 문법**

	$ bosh stop <job> [<index>] [--soft] [--hard] [--force]


**설명**

Job/Instance 종료


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	job                   O         Job 이름
	index                 X         Job 번호
	--soft                X         프로세스만 종료
	--hard                X         VM 종료
	--force               X         수행중 발생하는 에러 무시      
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh stop redis --soft --force


## 7.3.  ***restart***

**- 기본 문법**

	$ bosh restart <job> [<index>] [--force]


**설명**

Job/Instance (Soft stop+start) 재시작


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	job                   O         Job 이름
	index                 X         Job 번호
	--force               X         수행중 발생하는 에러 무시      
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh restart registry --force


## 7.4.  ***recreate***

**- 기본 문법**

	$ bosh recreate <job> [<index>] [--force]


**설명**

Job/Instance (Soft stop+start) 재생성


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	job                   O         Job 이름
	index                 X         Job 번호
	--force               X         수행중 발생하는 에러 무시      
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh recreate registry --force


#8.  BOSH CLI - User

## 8.1.  ***create user*** 

**- 기본 문법**

	$ bosh create user [<username>] [<password>]


**설명**

BOSH 사용자 등록


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	username              O         사용자 아이디
	password              X         사용자 비밀번호      
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh create user


## 8.2.  ***delete user***

**- 기본 문법**

	$ bosh delete user [<username>]


**설명**

BOSH 사용자 삭제


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	username              X         사용자 아이디      
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh delete user


## 8.3.  ***login***

**- 기본 문법**

	$ bosh login [<username>] [<password>]


**설명**

BOSH 사용자 등록


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	username              X         사용자 아이디      
	password              X         사용자 비밀번호
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh login


## 8.4.  ***logout***

**- 기본 문법**

	$ bosh logout


**설명**

BOSH logout


**- 파라미터**

-   없음


**사용 예시**

	$ bosh logout


#9.  BOSH CLI - Task

## 9.1.  ***task***

**- 기본 문법**

	$ bosh task [<task_id>] [--event] [--cpi] [--debug] [--result] [--raw] [--no-filter]


**설명**

BOSH Task 수행 로그 출력


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	task_id               O         Task ID
	--event               X         Event Log 출력
	--cpi                 X         CPI Log 출력
	--debug               X         Debug Log 출력
	--result              X         Result Log 출력
	--raw                 X         raw 로그 출력
	--no-filter           X         모든 Task 유형(ssh, logs, vms, etc) 포함해서 로그 출력
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh task 12 --result


## 9.2.  ***tasks***

**- 기본 문법**

	$ bosh tasks [--no-filter]


**설명**

BOSH 수행중인 Task 목록 출력


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	--no-filter           X         모든 Task 유형(ssh, logs, vms, etc) 포함해서 로그 출력
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**
  
	$ bosh tasks


## 9.3.  ***tasks recent***


**- 기본 문법**

	$ bosh tasks recent [<count>] [--no-filter]


**설명**

수행 완료한 Task 목록 출력


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	count                 O         Task ID
	--no-filter           X         모든 Task 유형(ssh, logs, vms, etc) 포함해서 출력 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh tasks recent


## 9.4.  ***cancel task*** 

**- 기본 문법**

	$ bosh cancel task <task_id>


**설명**

수행중인 Task 취소


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	task_id               O         수행중인 Task ID 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh cancel task 15


#10. BOSH CLI - Property

## 10.1.  ***set property***

**- 기본 문법**

	$ bosh set property <name> <value>


**설명**

Deployment Property 설정


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	name                  O         Property 이름
	value                 O         Property 값 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh set property redis.max_connection 10


## 10.2.  ***get property***

**- 기본 문법**

	$ bosh get property <name>


**설명**

Deployment Property 확인


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	name                  O         Property 이름
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh get property redis.max_connection


## 10.3.  ***properties*** 

**- 기본 문법**

	$ bosh properties [--terse]


**설명**

Deployment Property 목록 출력


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	--terse               X         간결한 형식으로 출력
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh properties --terse


## 10.4.  ***unset property***

**- 기본 문법**

	$ bosh unset property <name>


**설명**

Deployment Property 설정 해제


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	name                  O         Property 이름
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh unset property redis.max_connection


#11. BOSH CLI - Log

## 11.1.  ***logs*** 

**- 기본 문법**

	$ bosh logs <job> [<index>] [--agent] [--job] [--only filter1,filter2,...] [--dir destination_directory] [--all]


**설명**

BOSH에서 배포된 VM에서 Agent나 Job 수행 로그 다운로드


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	job                   O         Job 이름
	index                 X         Job 번호
	--agent               X         Agent 로그 출력
	--job                 X         Job 로그 출력
	--only filter1,...    X         지정된 Filter에 대한 로그만 출력
	--dir dest_dir        X         로그 다운로드 경로 지정
	--all                 X         Deprecated
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh logs director


#12. BOSH CLI - Maintenance

## 12.1.  ***cleanup***

**- 기본 문법**

	$ bosh cleanup [--all]


**설명**

사용되지 않은 오래된(2일) release와 stemcell 삭제


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	--all                 X         사용되지 않은 Release와 Stemcell 모두 삭제
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh cleanup


## 12.2.  ***cloudcheck*** 

**- 기본 문법**

	$ bosh cloudcheck [<deployment_name>] [--auto] [--report]


**설명**

배포 Manifest기준으로 차이가 있는 문제 검출 및 해결


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	deployment_name       X         배포 이름
	--auto                X         자동으로 Problem 해결
	--report              X         Report 생성 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh cloudcheck bosh-openstack --report

	# VM 강제 삭제한 후 실행 시
	$ bosh cloudcheck bosh-openstack --auto


#13. BOSH CLI – Remote Access

## 13.1.  ***ssh***

**- 기본 문법**

	$ bosh ssh [--public_key FILE] [--gateway_host HOST] [--gateway_user USER] [--gateway_identity_file FILE] [--default_password PASSWORD]


**설명**

배포된 VM ssh 세션 생성

* ~/.ssh 디렉토리에서 Public Key(‘ssh-keygen -t rsa’) 생성 후 사용 가능

**- 파라미터**

	------------------------------ --------- ---------------------------------------------------------------
	파라미터 명                     필수 (O/X) 설명                                   
	------------------------------ --------- ---------------------------------------------------------------
	--public_key FILE              X         인증서 파일 설정
	--gateway_host HOST            X         Gateway Host IP
	--gateway_user USER            X         Gateway User
	--gateway_identity_file FILE   X         Gateway Identity File
    --default_password PASSWORD    X         Default 비밀번호
	------------------------------ --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh ssh


## 13.2.  ***scp*** 

**- 기본 문법**

	$ bosh scp <job> [--index][--download] [--upload] [--public_key FILE] [--gateway_host HOST] [--gateway_user USER] [--gateway_identity_file FILE]


**설명**

배포된 VM으로부터 파일 다운로드 또는 업로드

* ~/.ssh 디렉토리에서 Public Key(‘ssh-keygen -t rsa’) 생성 후 사용 가능

**- 파라미터**

	------------------------------ --------- ---------------------------------------------------------------
	파라미터 명                     필수 (O/X) 설명                                   
	------------------------------ --------- ---------------------------------------------------------------
	job                            O         Job 이름
	--download                     X         다운로드할 파일
	--upload                       X         업로드할 파일         
	--public_key FILE              X         인증서 파일 설정
	--gateway_host HOST            X         Gateway Host IP
	--gateway_user USER            X         Gateway User
	--gateway_identity_file FILE   X         Gateway Identity File
	------------------------------ --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh scp director/0 –download /var/vcap/sys/log/director/access.log /tmp


#14. BOSH CLI - Blob


## 14.1.  ***upload blob***

**- 기본 문법**

	$ bosh upload blobs


**설명**

blobstore에 blob 업로드


**- 파라미터**

-   없음


**사용 예시**

	$ bosh upload blobs


## 14.2.  ***add blob***

**- 기본 문법**

	$ bosh add blob <local_path> [<blob_dir>]


**설명**

Blobstore에 로컬 blob 추가


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	local_path            O         로컬 Blob디렉토리
	blob_dir              X         Release내 blob 디렉토리
	--report              X         Report 생성 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh add blob ~/workspace/releases/test/blobs/


## 14.3.  ***sync blobs***

**- 기본 문법**

	$ bosh sync blobs


**설명**

blobstore의 blob 동기화

**- 파라미터**

-   없음


**사용 예시**

	$ bosh sync blobs


## 14.4.  ***blobs***

**- 기본 문법**

$ bosh blobs


**설명**

현재 blob 상태 출력


**- 파라미터**

-   없음


**사용 예시**

	$ bosh blobs


#15. BOSH CLI - Snapshot

## 15.1.  ***take snapshot***

**- 기본 문법**

	$ bosh take snapshot [<job>] [<index>]


**설명**

Snapshot 생성


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	job                   O         Job 이름
	index                 O         Job 번호 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh take snapshot registry 0


## 15.2.  ***delete snapshot***

**- 기본 문법**

	$ bosh delete snapshot <snapshot_cid>


**설명**

지정된 Snapshot CID의 Snapshot 삭제


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	snapshot_cid          O         snapshot cid
	--------------------- --------- ---------------------------------------------------------------


## 15.3.  ***delete snapshots***

**- 기본 문법**

	$ bosh delete snapshots


**설명**

설정된 배포내의 모든 Snapshot 삭제


**- 파라미터**

-   없음


**사용 예시**

	$ bosh delete snapshots


## 15.4.  ***snapshots***

**- 기본 문법**

	$ bosh snapshots [<job>] [<index>]


**설명**

모든 Snapshot 목록 출력


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	job                   X         Job 이름
	index                 X         Job 번호 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh snapshots


#16. BOSH CLI - Misc

## 16.1.  ***status***

**- 기본 문법**

	$ bosh status [--uuid]


**설명**

BOSH 타겟 Director 설정


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	--uuid                X         BOSH Director 등록 정보 출력
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	# bosh 상태 조회
	$ bosh status  

	# bosh uuid 조회
	$ bosh status --uuid


## 16.2.  ***target***

**- 기본 문법**

	$ bosh target [<director_url>] [<name>] [--ca-cert FILE]


**설명**

BOSH 타겟 Director 설정


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	director_url          O         BOSH Director URL
	name                  X         BOSH Director의 Alias 지정
	--ca-cert FILE        X         UAA server에서 제공된 인증서
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh target https://10.10.5.100:25555


## 16.3.  ***targets***

**- 기본 문법**

	$ bosh targets


**설명**

BOSH 타겟 Director 목록 출력


**- 파라미터**

-   없음


**사용 예시**

	$ bosh targets


## 16.4.  ***vms*** 

**- 기본 문법**

	$ bosh vms [<deployment_name>] [--details] [--dns] [--vitals]


**설명**

BOSH에서 배포된 VM 목록 출력


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	deployment_name       X         배포이름
	--details             X         VM 상세정보 출력
	--dns                 X         DNS 레코드 포함 출력
	--vitals              X         VM 자원 사용 상태 출력
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh vms


## 16.5.  ***locks***

**- 기본 문법**

	$ bosh locks


**설명**

Lock된 VM 목록 출력


**- 파라미터**

-   없음


**사용 예시**

	$ bosh locks


## 16.6.  ***alias***

**- 기본 문법**

	$ bosh alias <name> <command>


**설명**

BOSH 커맨드 Alias 등록


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	name                  O         Alias 이름
	command               O         등록할 BOSH Command
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh alias vm-list 'vms'
  

## 17.7.  ***aliases***

**- 기본 문법**

	$ bosh aliases


**설명**

등록된 Alias 목록 출력

**- 파라미터**

-   없음


**사용 예시**

	$ bosh aliases


## 16.8.  ***export compiled package***

**- 기본 문법**

	$ bosh export compiled_packages <release> <stemcell> <download_dir>


**설명**

compiled Package 내보내기


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	release               O         Release 이름과 버전
	stemcell              O         Stemcell 이름과 버전
	download_dir          O         내보내기 디렉토리 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	$ bosh export compiled_packages bosh/187 bosh-openstack-kvm-ubuntu-trusty-go_agent/3016 ~/bosh-workspace


## 16.9.  ***vm resurrection***

**- 기본 문법**

	$ bosh vm resurrection [<job>] [<index>] <new_state>


**설명**

배포된 VM의 재시작 여부 설정


**- 파라미터**

	--------------------- --------- ---------------------------------------------------------------
	파라미터 명            필수 (O/X) 설명                                   
	--------------------- --------- ---------------------------------------------------------------
	job                   X         Job 이름
	index                 X         Job 번호
	new_state             X         ‘on’ or ‘off’, ‘yes’ or ‘no’, ‘enable’ or ‘disable’ 
	--------------------- --------- ---------------------------------------------------------------


**- 사용 예시**

	# Resurrection Off 설정
	$ bosh vm resurrection nats off

	# Resurrection On 설정
	$ bosh vm resurrection nats 0 on
